{"version":3,"sources":["src/index.js"],"names":["canvas","document","getElementById","ctx","getContext","s","P","mouse","x","y","down","noGo","stringLength","stringMinSpeed","stringMaxSpeed","stringsCount","strings","thicknesses","j","string","i","push","Math","random","vx","vy","gameSize","lastMove","bezIt","pts","l","l0","nk","length","nv","bezRed","pk","l1","K2","width","height","timer","bezierReverseBScalar","a","b","c","bezierReverseB","drawString","stringArray","stringSpeed","w","startHue","beginPath","strokeStyle","k0","moveTo","subs","dis","pt","pt2","pt3","stringS","m","len","pt2p","quadraticCurveTo","stroke","moveString","angle","atan","round","PI","hypot","targetPos","driftPos","drift2Pos","render","lk","Date","getTime","globalCompositeOperation","fillStyle","fillRect","lineWidth","spd","window","setTimeout","resizeH","innerWidth","innerHeight","setInterval","addEventListener","event","clientX","clientY","keyCode"],"mappings":"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","file":"src.61290450.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\nvar canvas = document.getElementById(\"game-canvas\");\nvar ctx = canvas.getContext(\"2d\");\nvar s = 4;\n//ctx is how you draw on the canvas\nvar P = 0.4; //0.33333;\nvar mouse = { x: 0, y: 0, down: false };\nvar noGo = false;\nvar stringLength = 32;\nvar stringMinSpeed = 0.5;\nvar stringMaxSpeed = 0.6;\nvar stringsCount = 16 * 2;\nvar strings = [];\nvar thicknesses = [];\nfor (var j = 0; j < stringsCount; j++) {\n  var string = [];\n  //make a string\n  for (var i = 0; i < stringLength; i++) {\n    string.push({\n      x: Math.random() * 100,\n      y: Math.random() * 100,\n      vx: 0,\n      vy: 0\n    });\n  }\n  thicknesses.push(Math.random() * 0.5 + 0.2);\n  //add it to the list of strings\n  strings.push(string);\n}\nvar gameSize = 800;\nvar lastMove = 0;\ncanvas.width = gameSize;\ncanvas.height = gameSize;\nfunction bezIt(pts, l) {\n  var l0 = 1.0 - l;\n  var nk = [];\n  var K = -1.0;\n  for (var i = 0; i < pts.length - 1; i++) {\n    var nv = {\n      vx: pts[i].vx * l0 + pts[i + 1].vx * l,\n      vy: pts[i].vy * l0 + pts[i + 1].vy * l\n    };\n    nk.push({\n      x: pts[i].x * l0 + pts[i + 1].x * l + nv.vx * K,\n      y: pts[i].y * l0 + pts[i + 1].y * l + nv.vy * K,\n      vx: pts[i].vx * l0 + pts[i + 1].vx * l,\n      vy: pts[i].vy * l0 + pts[i + 1].vy * l\n    });\n  }\n  return nk;\n}\nfunction bezRed(pts, l) {\n  var pk = pts;\n  var l1 = l;\n  while (pk.length > 1) {\n    pk = bezIt(pk, l1);\n    l1 = l1;\n  }\n  var K2 = 0 * l1;\n  return { x: pk[0].x + pk[0].vx * K2, y: pk[0].y + pk[0].vy * K2 };\n}\nvar timer = 0;\nfunction bezierReverseBScalar(a, b, c, l) {\n  return (b - l * l * c - (1 - 2 * l + l * l) * a) / (2 * (l - l * l));\n}\nfunction bezierReverseB(a, b, c, l) {\n  return {\n    x: bezierReverseBScalar(a.x, b.x, c.x, l),\n    y: bezierReverseBScalar(a.y, b.y, c.y, l)\n  };\n}\nfunction drawString(stringArray, stringSpeed, w) {\n  var startHue = timer;\n  var hueChange = 1;\n  ctx.beginPath();\n  ctx.strokeStyle = \"hsla(\" + startHue + \",100%,50%,\" + w * 0.01 + \")\";\n  // ctx.lineWidth = w;\n  var k0 = bezRed(stringArray, 0);\n  ctx.moveTo(k0.x, k0.y);\n  var subs = stringArray.length;\n  var step = stringArray.length / subs;\n  // for (var j = 0; j < stringArray.length; j += step) {\n  //   var t = j / stringArray.length;\n  //   var t2 = (j + step / 2) / stringArray.length;\n  //   var t3 = (j + step) / stringArray.length;\n\n  //   var pt = bezRed(stringArray, t);\n  //   var pt2 = bezRed(stringArray, t2);\n  //   var pt3 = bezRed(stringArray, t3);\n  //   var pt2p = {\n  //     x: pt2.x * 2 - (pt.x + pt3.x) / 2,\n  //     y: pt2.y * 2 - (pt.y + pt3.y) / 2\n  //   };\n  //   // ctx.lineTo(pt.x, pt.y);\n  //   ctx.quadraticCurveTo(pt2p.x, pt2p.y, pt3.x, pt3.y);\n  //   // var i = j;\n\n  //   // // ctx.moveTo(stringArray[i].x, stringArray[i].y);\n  //   // var k = 0.5; //(1-stringSpeed);\n  //   // var k1 = 1 - k;\n  //   // var p = 0 + 1 / stringSpeed; //(1 - stringSpeed) * 1;\n  //   // var mid = {\n  //   //   x: (stringArray[i].x + stringArray[i - 1].x) / 2,\n  //   //   y: (stringArray[i].y + stringArray[i - 1].y) / 2\n  //   // };\n  //   // ctx.quadraticCurveTo(\n  //   //   mid.x - stringArray[i].vx,\n  //   //   mid.y - stringArray[i].vy,\n  //   //   stringArray[i].x,\n  //   //   stringArray[i].y\n  //   // );\n  //   // //   (stringArray[i].x +\n  //   // //     stringArray[i].vx * k1 +\n  //   // //     stringArray[i - 1].x -\n  //   // //     stringArray[i - 1].vx * k) *\n  //   // //     p *\n  //   // //     0.5 -\n  //   // //     mid.x * (p - 1),\n  //   // //   (stringArray[i].y +\n  //   // //     stringArray[i].vy * k1 +\n  //   // //     stringArray[i - 1].y -\n  //   // //     stringArray[i - 1].vy * k) *\n  //   // //     p *\n  //   // //     0.5 -\n  //   // //     mid.y * (p - 1)\n  //   // // );\n\n  //   // ctx.lineTo(stringArray[i].x, stringArray[i].y);\n  // }\n  // ctx.stroke();\n  ctx.beginPath();\n  ctx.strokeStyle = \"hsla(\" + startHue + \",70%,50%,\" + w * 0.1 + \")\";\n  // ctx.lineWidth = w;\n  ctx.moveTo(stringArray[0].x, stringArray[0].y);\n  var dis = 0;\n  for (var i = 1; i < stringArray.length; i += 1) {\n    var pt = stringArray[i - 1];\n    var pt2 = {\n      x: stringArray[i].x + 0,\n      y: stringArray[i].y + 0,\n      vx: stringArray[i].vx + 0,\n      vy: stringArray[i].vy + 0\n    };\n\n    var pt3 = { x: stringArray[i].x + 0, y: stringArray[i].y + 0 };\n    var O = 0.5;\n    // pt2.x +=\n    //   stringArray[i].vx * O +\n    //   (stringArray[i - 1].vx / 2) * 0.0 +\n    //   ((pt.x + pt3.x) / 2) * 0;\n    // pt2.y +=\n    //   stringArray[i].vy * O +\n    //   (stringArray[i - 1].vy / 2) * 0.0 +\n    //   ((pt.y + pt3.y) / 2) * 0;\n    var stringS = stringSpeed;\n    pt2.vx = stringArray[i].vx * (1 - stringS);\n    pt2.vy = stringArray[i].vy * (1 - stringS);\n    var m = P;\n    var len =\n      ((stringArray[i - 1].x - stringArray[i].x) ** 2 +\n        (stringArray[i - 1].y - stringArray[i].y) ** 2) **\n      0.5;\n    pt2.vx +=\n      (((stringArray[i - 1].x - stringArray[i].x) * stringS) / (len + 0.1)) *\n      (-dis + len) *\n      m;\n    pt2.vy +=\n      (((stringArray[i - 1].y - stringArray[i].y) * stringS) / (len + 0.1)) *\n      (-dis + len) *\n      m;\n    pt2.x += pt2.vx;\n    pt2.y += pt2.vy;\n    var pt2p = {\n      x: pt2.x * 2 - (pt.x + pt3.x) / 2,\n      y: pt2.y * 2 - (pt.y + pt3.y) / 2\n    };\n    pt2p = bezierReverseB(pt, pt2, pt3, 1.0 - P);\n    // ctx.lineTo(pt3.x, pt3.y);\n    ctx.beginPath();\n    // ctx.strokeStyle =\n    //   \"hsla(\" +\n    //   (startHue + ((hueChange * i) / stringArray.length) * 60) +\n    //   \",50%,50%,\" +\n    //   w +\n    //   \")\";\n    // ctx.lineWidth = w;\n    ctx.moveTo(pt.x, pt.y);\n    ctx.quadraticCurveTo(pt2p.x, pt2p.y, pt3.x, pt3.y);\n    ctx.stroke();\n    // ctx.lineTo(pt.x, pt.y);\n    //var i = j;\n\n    //ctx.lineTo(stringArray[i].x, stringArray[i].y);\n  }\n  ctx.stroke();\n}\nfunction moveString(stringArray, stringSpeed) {\n  stringArray[0].x = mouse.x;\n  stringArray[0].y = mouse.y;\n  stringArray[0].vx = 0;\n  stringArray[0].vy = 0;\n  var dis = 0;\n  var SU = 1.0;\n  for (var i = 1; i < stringArray.length; i++) {\n    var stringS = stringSpeed;\n    stringArray[i].vx = stringArray[i].vx * (1 - stringS) * SU;\n    stringArray[i].vy = stringArray[i].vy * (1 - stringS) * SU;\n    var m = P;\n    var len =\n      ((stringArray[i - 1].x - stringArray[i].x) ** 2 +\n        (stringArray[i - 1].y - stringArray[i].y) ** 2) **\n      0.5;\n    var qe = 0.0; //stringSpeed / 1.5;\n    stringArray[i].vx +=\n      (((stringArray[i - 1].x - stringArray[i].x) * stringS) / (len + 0.1)) *\n        (-dis + len) *\n        m +\n      (stringArray[i - 1].vx - stringArray[i].vx) * qe;\n    stringArray[i].vy +=\n      (((stringArray[i - 1].y - stringArray[i].y) * stringS) / (len + 0.1)) *\n        (-dis + len) *\n        m +\n      (stringArray[i - 1].vy - stringArray[i].vy) * qe;\n    // stringArray[i].x += stringArray[i].vx;\n    // stringArray[i].y += stringArray[i].vy;\n  }\n  // for (var i = stringArray.length-1; i >0; i--) {\n\n  //   stringArray[i].x += stringArray[i].vx;\n  //   stringArray[i].y += stringArray[i].vy;\n  //   stringArray[i].vx = (stringArray[i - 1].x - stringArray[i].x) * stringSpeed;\n  //   stringArray[i].vy = (stringArray[i - 1].y - stringArray[i].y) * stringSpeed;\n\n  // }\n  var ss = 600;\n  for (var i = 1; i < stringArray.length; i++) {\n    var angle = Math.atan(stringArray[i].vy, stringArray[i].vx);\n    angle = Math.round(angle / ((Math.PI * 2) / ss)) * ((Math.PI * 2) / ss);\n    var len = Math.hypot(stringArray[i].vy, stringArray[i].vx);\n    stringArray[i].x += stringArray[i].vx; //Math.cos(angle) * len;//stringArray[i].vx; // + Math.random() * 20 - 10;\n    stringArray[i].y += stringArray[i].vy; //Math.sin(angle) * len; //stringArray[i].vy; // + Math.random() * 20 - 10;\n  }\n}\nvar targetPos = { x: 0, y: 0 };\nvar driftPos = { x: 0, y: 0 };\nvar drift2Pos = { x: 0, y: 0 };\nwindow.setInterval(function() {\n  driftPos = {\n    x: (Math.random() / 2 + 0.25) * window.innerWidth,\n    y: (Math.random() / 2 + 0.25) * window.innerHeight\n  };\n}, 1000);\nfunction render() {\n  timer++;\n  //clear the old drawing\n  var lk = 0.06;\n\n  // targetPos.x =\n  //   targetPos.x * (1 - lk) +\n  //   lk *\n  //     (Math.sin((timer / 60) * 1) * 800 +\n  //       canvas.width / 2 / s +\n  //       Math.sin((timer / 60) * 12) * 100);\n\n  // //  Math.sin((timer / 60) * 1) * 300 + 400 + Math.sin((timer / 60) * 12) * 100;\n  // targetPos.y =\n  //   targetPos.y * (1 - lk) +\n  //   lk *\n  //     (Math.cos((timer / 10) * 1) * 200 +\n  //       canvas.height / 2 / s +\n  //       Math.cos((timer / 40) * 7) * 100);\n  var len =\n    ((Math.hypot(driftPos.x - targetPos.x, driftPos.y - targetPos.y) + 1) /\n      canvas.width) *\n    10;\n  drift2Pos.x =\n    drift2Pos.x * (1 - lk) + (lk * (driftPos.x - targetPos.x)) / len;\n  drift2Pos.y =\n    drift2Pos.y * (1 - lk) + (lk * (driftPos.y - targetPos.y)) / len;\n  lk = 0.1;\n  targetPos.x = targetPos.x * (1 - lk) + lk * (targetPos.x + drift2Pos.x);\n  targetPos.y = targetPos.y * (1 - lk) + lk * (targetPos.y + drift2Pos.y);\n  if (new Date().getTime() - lastMove > 2000) {\n    mouse.x = targetPos.x * s;\n    mouse.y = targetPos.y * s;\n  }\n  // ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.fillStyle = \"rgba(0,0,0,0.1)\";\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.globalCompositeOperation = \"lighter\";\n  ctx.lineWidth = s;\n  for (var i = 0; i < strings.length; i++) {\n    var spd =\n      stringMinSpeed + (i / stringsCount) * (stringMaxSpeed - stringMinSpeed);\n    drawString(strings[i], spd, thicknesses[i]);\n    // moveString(strings[i], spd);\n  }\n  if (!noGo) {\n    window.setTimeout(render, 1000 / 60);\n  }\n}\nwindow.setInterval(function() {\n  for (var i = 0; i < strings.length; i++) {\n    var spd =\n      stringMinSpeed + (i / stringsCount) * (stringMaxSpeed - stringMinSpeed);\n    // drawString(strings[i].slice(0, 2), spd);\n    moveString(strings[i], spd);\n  }\n}, 5);\nrender();\nwindow.addEventListener(\"mousemove\", function(event) {\n  mouse.x = event.clientX * s;\n  mouse.y = event.clientY * s;\n  lastMove = new Date().getTime();\n});\nwindow.addEventListener(\"keyup\", function(event) {\n  if (event.keyCode == 32) {\n    noGo = !noGo;\n  }\n});\nfunction resizeH() {\n  canvas.width = window.innerWidth * s;\n  canvas.height = window.innerHeight * s;\n}\nwindow.addEventListener(\"resize\", resizeH);\nresizeH();\n"]}